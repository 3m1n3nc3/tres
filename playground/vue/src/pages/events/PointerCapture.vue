<!-- eslint-disable no-console -->
<script setup lang="ts">
import { OrbitControls } from '@tresjs/cientos'
import { TresCanvas } from '@tresjs/core'
import { MeshBasicMaterial, MeshPhongMaterial, Plane, Vector3 } from 'three'
import type { ThreeEvent } from '@tresjs/core'

const r = (radius: number) => radius * 2 * (Math.random() - 0.5)

const RADIUS = 20
const COUNT = 250
const MATERIALS = ['red', 'orange', 'yellow', 'green', 'blue', 'purple'].map(s => new MeshPhongMaterial({ color: s }))
const DRAG_MATERIAL = new MeshBasicMaterial({ color: 'white' })

const positions: Vector3[] = []

for (let i = 0; i < COUNT; i++) {
  positions.push(new Vector3(
    Math.cos(i * 0.03) * RADIUS + r(10),
    Math.sin(i * 0.17) * RADIUS,
    Math.sin(i * 0.07 + 1.2) * RADIUS + r(5),
  ))
}

const isDragging = ref(false)

const plane = new Plane()

function onDragStart(e: ThreeEvent<PointerEvent>) {
  if (!isDragging.value) {
    e.target.setPointerCapture(e.pointerId)

    isDragging.value = true
    e.target.userData.material = e.target.material
    e.target.material = DRAG_MATERIAL
  }
}

function onDrag(e: ThreeEvent<PointerEvent>) {
  if (e.target.hasPointerCapture(e.pointerId)) {
    plane.setFromNormalAndCoplanarPoint(e.ray.direction, e.target.position)
    e.ray.intersectPlane(plane, e.target.position)
  }
}

function onDragStop(e: ThreeEvent<any>) {
  isDragging.value = false
  e.target.material = e.target.userData.material
}
</script>

<template>
  <OverlayInfo>
    <h1>Pointer capture</h1>
    <p>We can use <code>event.target.setPointerCapture</code> to "capture" the pointer. While an object has "captured" the pointer, it is always treated as if it were "hit", i.e. it receives updates from pointer interactions, even if not under the pointer.</p>
    <h2>Setup</h2>
    <p>The objects in this scene are draggable.</p>
    <p>When an object is clicked, it captures the pointer. Subsequent pointer updates sent to the object are used to set the object's position.</p>
    <img src="data:image/png;base64,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" />
    <h2>NOTE</h2>
    <p>While a pointer is captured by a Tres object, the canvas also captures the pointer. This means that the canvas will continue receiving updates, even if the pointer is not over the canvas.</p>
    <p>This provides cleaner interactions – if not implemented, the dragging would stop whenever the pointer left the canvas.</p>
  </OverlayInfo>
  <TresCanvas window-size clear-color="gray">
    <OrbitControls :enabled="!isDragging" />
    <TresPerspectiveCamera
      :position="[0, 5, 55]"
      :look-at="[0, 0, 0]"
    />
    <TresGroup>
      <TresMesh
        v-for="pos, i of positions"
        :key="i"
        :position="pos"
        :material="MATERIALS[i % 6]"
        @pointerdown="onDragStart"
        @pointermove="onDrag"
        @lostpointercapture="onDragStop"
      >
        <TresSphereGeometry />
      </TresMesh>
    </TresGroup>
    <TresDirectionalLight :intensity="2" />
    <TresAmbientLight :intensity="0.75" />
  </TresCanvas>
</template>
